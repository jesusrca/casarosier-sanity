import{c as j,r as h,u as v,j as e,L as m,e as S,A as b,m as o,X as $,M as P,P as N,g as A,h as T}from"./index-BOQdL6yd.js";import{S as B}from"./SEOHead-Bh9cpaJK.js";import{g as L}from"./SEO-vXB99Uv9.js";import{P as _}from"./index-yxypK34B.js";import{C as E}from"./clock-B04VLIoZ.js";import{M as I,r as z}from"./index-CE65yOj4.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],w=j("arrow-left",D);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],O=j("calendar",F);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],H=j("chevron-up",R);function V({isDark:r=!1}){const[c,n]=h.useState(null),[l,x]=h.useState(!1),[t,p]=h.useState(null),{menuItems:u}=v(),s=a=>{p(t===a?null:a)},d=r?"text-white/90 hover:text-white":"text-foreground/90 hover:text-foreground",k=r?"text-white/40":"text-foreground/40",g=r?"text-white hover:text-white/80":"text-foreground hover:text-foreground/80",C=r?"text-white/90 hover:text-white":"text-foreground/90 hover:text-foreground",M=r?"bg-black/40":"bg-white/40",y=r?"border-white/10":"border-foreground/10";return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"relative z-20 pt-4 sm:pt-6 pb-3",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(m,{to:"/",className:"flex-shrink-0",children:e.jsx(S,{className:"h-10 sm:h-12 lg:h-14 w-auto",isDark:r})}),e.jsx("nav",{className:"hidden md:flex items-center gap-1",children:u.map((a,i)=>e.jsxs("div",{className:"flex items-center relative",onMouseEnter:()=>a.submenu&&n(a.name),onMouseLeave:()=>n(null),children:[a.path?e.jsxs(m,{to:a.path,className:`${d} px-3 lg:px-4 transition-colors duration-200 text-sm whitespace-nowrap`,children:[a.name,a.submenu&&e.jsx("span",{className:"ml-1",children:"+"})]}):e.jsxs("button",{className:`${d} px-3 lg:px-4 transition-colors duration-200 text-sm whitespace-nowrap`,children:[a.name,a.submenu&&e.jsx("span",{className:"ml-1",children:"+"})]}),a.submenu&&e.jsx(b,{children:c===a.name&&e.jsx(o.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.2},className:"absolute top-full left-0 mt-2 bg-white rounded-lg overflow-hidden min-w-[220px] z-50",children:a.submenu.map(f=>e.jsx(m,{to:f.path,className:"block px-5 py-3 text-secondary hover:bg-muted transition-colors duration-150 text-sm border-b border-border last:border-b-0",children:f.name},f.path))})}),i<u.length-1&&e.jsx("span",{className:`${k} text-sm hidden lg:inline ml-1`,children:"|"})]},a.name))}),e.jsx("button",{onClick:()=>x(!l),className:`md:hidden p-2 ${g} transition-colors`,"aria-label":"Toggle menu",children:l?e.jsx($,{className:"w-6 h-6"}):e.jsx(P,{className:"w-6 h-6"})})]})})}),e.jsx(b,{children:l&&e.jsx(o.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:`md:hidden relative z-20 overflow-hidden ${M} backdrop-blur-md border-t ${y}`,children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4 space-y-2",children:u.map(a=>e.jsxs("div",{children:[a.path?e.jsxs(m,{to:a.path,onClick:()=>!a.submenu&&x(!1),className:`flex items-center justify-between ${g} py-2 transition-colors`,children:[e.jsx("span",{children:a.name}),a.submenu&&e.jsx("button",{onClick:i=>{i.preventDefault(),i.stopPropagation(),s(a.name)},className:"p-2",children:e.jsx(N,{className:`w-5 h-5 transition-transform duration-200 ${t===a.name?"rotate-45":""}`})})]}):e.jsxs("button",{onClick:()=>a.submenu&&s(a.name),className:`flex items-center justify-between w-full ${g} py-2 transition-colors`,children:[e.jsx("span",{children:a.name}),a.submenu&&e.jsx(N,{className:`w-5 h-5 transition-transform duration-200 ${t===a.name?"rotate-45":""}`})]}),e.jsx(b,{children:a.submenu&&t===a.name&&e.jsx(o.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:`ml-4 mt-2 space-y-2 pl-4 border-l-2 ${y} overflow-hidden`,children:a.submenu.map(i=>e.jsx(m,{to:i.path,onClick:()=>x(!1),className:`block ${C} py-2 transition-colors`,children:i.name},i.path))})})]},a.name))})})})]})}function U(r){return Array.isArray(r)?r.map(c=>c._type==="block"&&c.children?.map(n=>n.text).join("")||"").join(" "):""}function X(r){const l=(typeof r=="string"?r:U(r)).trim().split(/\s+/).filter(Boolean).length;return Math.max(1,Math.ceil(l/200))}function Y(){const{slug:r}=A(),{getBlogPostBySlug:c,loading:n}=v(),[l,x]=h.useState(!1),t=c(r||"");if(h.useEffect(()=>{if(!t&&!n){const s=setTimeout(()=>{x(!0)},300);return()=>clearTimeout(s)}else x(!1)},[t,n,r]),n||!t&&!l)return e.jsx(T,{});if(!t&&l)return e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-3xl mb-4",children:"Artículo no encontrado"}),e.jsxs(m,{to:"/blog",className:"text-primary hover:underline flex items-center gap-2 justify-center",children:[e.jsx(w,{className:"w-4 h-4"}),"Volver al blog"]})]})});const p=L({title:t.title,description:t.excerpt,author:t.author,publishedDate:t.publishedDate||t.createdAt,modifiedDate:t.updatedAt,image:t.featuredImage,url:window.location.href}),u=X(t.content);return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(B,{title:t.seo?.metaTitle||`${t.title} | Casa Rosier Blog`,description:t.seo?.metaDescription||t.excerpt,keywords:t.seo?.keywords||"blog, cerámica, Casa Rosier",image:t.featuredImage,type:"article",publishedTime:t.publishedDate||t.createdAt,modifiedTime:t.updatedAt,author:t.author,structuredData:p}),e.jsxs("div",{className:"relative min-h-[60vh] bg-background flex flex-col",children:[e.jsx(V,{}),e.jsx("div",{className:"flex-1 flex items-center justify-center py-20 lg:py-24",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 w-full",children:e.jsxs(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center space-y-6",children:[t.category&&e.jsx(o.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:e.jsx("span",{className:"text-sm uppercase tracking-wider text-foreground/60",children:t.category})}),e.jsx(o.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"text-foreground text-5xl sm:text-6xl lg:text-7xl font-bold leading-tight",children:t.title}),t.featuredImage&&e.jsx(o.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.7,delay:.3},className:"w-full",children:e.jsx("img",{src:t.featuredImage,alt:t.title,className:"w-full h-auto rounded-lg shadow-lg object-cover"})}),e.jsxs(o.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"flex items-center justify-center gap-6 text-sm text-foreground/60",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(E,{className:"w-4 h-4"}),e.jsxs("span",{children:[u," min de lectura"]})]}),e.jsx("span",{children:"•"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(O,{className:"w-4 h-4"}),e.jsx("span",{children:new Date(t.publishedDate||t.createdAt).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"})})]})]})]})})})]}),e.jsx("article",{className:"pb-16 lg:pb-24",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"space-y-12",children:[e.jsx("div",{className:"prose prose-lg max-w-none",children:Array.isArray(t.content)?e.jsx(_,{value:t.content,components:{block:{normal:({children:s})=>e.jsx("p",{className:"mb-6 text-base leading-relaxed text-foreground/80",children:s}),h1:({children:s})=>e.jsx("h1",{className:"mt-12 mb-6 first:mt-0",children:s}),h2:({children:s})=>e.jsx("h2",{className:"mt-12 mb-6 first:mt-0",children:s}),h3:({children:s})=>e.jsx("h3",{className:"mt-10 mb-4 first:mt-0",children:s})},list:{bullet:({children:s})=>e.jsx("ul",{className:"list-disc pl-6 mb-6 space-y-2",children:s}),number:({children:s})=>e.jsx("ol",{className:"list-decimal pl-6 mb-6 space-y-2",children:s})},listItem:{bullet:({children:s})=>e.jsx("li",{className:"text-base text-foreground/80 leading-relaxed",children:s}),number:({children:s})=>e.jsx("li",{className:"text-base text-foreground/80 leading-relaxed",children:s})},marks:{strong:({children:s})=>e.jsx("strong",{className:"font-semibold text-foreground",children:s}),em:({children:s})=>e.jsx("em",{className:"italic",children:s}),link:({value:s,children:d})=>e.jsx("a",{className:"text-primary hover:underline font-medium underline-offset-2",target:"_blank",rel:"noopener noreferrer",href:s?.href,children:d})},types:{image:({value:s})=>{const d=s?.asset?.url;return d?e.jsx("img",{className:"rounded-lg shadow-lg my-8 max-w-full mx-auto border border-border",src:d,alt:s.alt||""}):null},embed:({value:s})=>e.jsxs("div",{className:"my-8",children:[e.jsx("div",{className:"aspect-video w-full",children:e.jsx("iframe",{src:s.url,className:"w-full h-full rounded-lg border",allowFullScreen:!0})}),s.caption&&e.jsx("p",{className:"mt-2 text-sm text-foreground/60",children:s.caption})]})}}}):e.jsx(I,{rehypePlugins:[z],children:String(t.content||"")})}),e.jsxs("div",{className:"pt-12 border-t border-border flex flex-col sm:flex-row justify-between items-center gap-4",children:[e.jsxs(m,{to:"/blog",className:"inline-flex items-center gap-2 text-primary hover:gap-3 transition-all",children:[e.jsx(w,{className:"w-4 h-4"}),"Ver más artículos"]}),e.jsxs("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"inline-flex items-center gap-2 px-4 py-2 text-sm bg-white/60 hover:bg-white/80 border border-border rounded-lg transition-colors shadow-sm",children:["Volver arriba",e.jsx(H,{className:"w-4 h-4"})]})]})]})})})]})}export{Y as BlogPost};
