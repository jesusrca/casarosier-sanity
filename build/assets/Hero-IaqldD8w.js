import{r,u as q,j as e,L as c,e as G,A as M,m as i,X as J,M as K,P as Q,a as V}from"./index-BOQdL6yd.js";import{h as y,a as Y,C as Z}from"./00083d30bea445cb191f41f57aa132965c193e0d-BxUMVchB.js";function te({backgroundImage:l,title:p,subtitle:g,showScrollIndicator:I=!0,useTextTitle:S=!1,showWhiteGradient:B=!1,titleImage:F,reducedHeight:z=!1}){const[O,E]=r.useState(null),[N,f]=r.useState(!1),[$,D]=r.useState(null),[a,d]=r.useState(!0),[h,x]=r.useState(l||y),{menuItems:k}=q();console.log("ðŸŽ­ Hero props recibidas:",{backgroundImage:l,title:p,subtitle:g,useTextTitle:S,showScrollIndicator:I,reducedHeight:z,heroImage:h}),r.useEffect(()=>{(async()=>{if(l){console.log("âœ… Hero usando backgroundImage proporcionada:",l),x(l);return}try{const o=await V();if(o){const n=window.innerWidth<768?(typeof o.heroImageMobile=="string",o.heroImageMobile):(typeof o.heroImageDesktop=="string",o.heroImageDesktop);n?(console.log("ðŸ–¼ï¸ Hero cargando imagen desde ajustes:",n),x(n)):(console.log("ðŸ“¦ Usando imagen por defecto"),x(y))}else x(y)}catch(o){console.log("âš ï¸ Error cargando imagen de ajustes, usando default:",o),x(y)}})()},[l]),r.useEffect(()=>{if(!h){d(!0);return}const t=new Image;t.crossOrigin="Anonymous",t.src=h,t.onload=()=>{try{const o=document.createElement("canvas"),s=o.getContext("2d");if(!s){d(!0);return}o.width=t.width,o.height=t.height,s.drawImage(t,0,0);const m=s.getImageData(0,0,o.width,o.height/4).data;let j=0,w=0,v=0;for(let u=0;u<m.length;u+=4)j+=m[u],w+=m[u+1],v+=m[u+2];const C=m.length/4;j=Math.floor(j/C),w=Math.floor(w/C),v=Math.floor(v/C);const X=(j*299+w*587+v*114)/1e3;d(X<160)}catch{d(!0)}},t.onerror=()=>{d(!0)}},[h]);const L=()=>{window.scrollTo({top:window.innerHeight*.65,behavior:"smooth"})},A=t=>{D($===t?null:t)},H=a?"text-white/90 hover:text-white":"text-foreground/90 hover:text-foreground",P=a?"text-white/40":"text-foreground/40",b=a?"text-white hover:text-white/80":"text-foreground hover:text-foreground/80",T=a?"bg-black/40":"bg-white/40",R=a?"border-white/10":"border-foreground/10",U=a?"bg-white/10":"bg-foreground/10",W=a?"border-white/70 text-white hover:bg-white/10":"border-foreground/70 text-foreground hover:bg-foreground/10";return e.jsxs("div",{className:`relative ${z?"h-[50vh] min-h-[400px]":"h-[65vh] min-h-[500px]"} flex flex-col overflow-hidden`,children:[e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("img",{src:h,alt:"",className:"w-full h-full object-cover",loading:"eager",fetchpriority:"high",decoding:"async"}),e.jsx("div",{className:"hidden md:block absolute inset-0 bg-gradient-to-b from-[#F3F2EF]/10 via-transparent to-[#E8E7E3]/15"})]}),e.jsxs("div",{className:"absolute top-0 left-0 right-0 z-20 pt-4 sm:pt-6 pb-3",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(c,{to:"/",className:"flex-shrink-0",children:e.jsx(G,{className:"h-10 sm:h-12 lg:h-14 w-auto",isDark:a})}),e.jsx("nav",{className:"hidden md:flex items-center gap-1",children:k.map((t,o)=>e.jsxs("div",{className:"flex items-center relative",onMouseEnter:()=>t.submenu&&E(t.name),onMouseLeave:()=>E(null),children:[t.path?e.jsxs(c,{to:t.path,className:`${H} px-3 lg:px-4 transition-colors duration-200 text-sm whitespace-nowrap`,children:[t.name,t.submenu&&t.submenu.length>0&&e.jsx("span",{className:"ml-1",children:"+"})]}):e.jsxs("button",{className:`${H} px-3 lg:px-4 transition-colors duration-200 text-sm whitespace-nowrap`,children:[t.name,t.submenu&&t.submenu.length>0&&e.jsx("span",{className:"ml-1",children:"+"})]}),t.submenu&&e.jsx(M,{children:O===t.name&&e.jsx(i.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.2},className:"absolute top-full left-0 mt-2 bg-white rounded-lg overflow-hidden min-w-[220px] z-50",children:t.submenu.map((s,n)=>e.jsx(c,{to:s.path,className:"block px-5 py-3 text-secondary hover:bg-muted transition-colors duration-150 text-sm border-b border-border last:border-b-0",children:s.name},`${s.path}-${n}`))})}),o<k.length-1&&e.jsx("span",{className:`${P} text-sm hidden lg:inline ml-1`,children:"|"})]},`desktop-hero-${t.name}-${o}`))}),e.jsx("button",{onClick:()=>f(!N),className:"md:hidden text-white p-2 hover:text-white/80 transition-colors","aria-label":"Toggle menu",children:N?e.jsx(J,{size:24}):e.jsx(K,{size:24})})]})}),e.jsx(M,{children:N&&e.jsx(i.nav,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:`md:hidden ${T} backdrop-blur-sm overflow-hidden border-t ${R} mt-3`,children:e.jsx("div",{className:"px-4 py-4 space-y-1",children:k.map((t,o)=>e.jsx(i.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:o*.05},children:t.submenu?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[t.path&&e.jsx(c,{to:t.path,onClick:()=>f(!1),className:`flex-1 ${b} transition-colors duration-200 py-2.5 px-2`,children:t.name}),e.jsxs("button",{onClick:()=>A(t.name),className:`${t.path?"":"flex-1 justify-between"} flex items-center ${b} transition-colors duration-200 py-2.5 px-2`,children:[!t.path&&e.jsx("span",{children:t.name}),e.jsx(i.div,{animate:{rotate:$===t.name?45:0},transition:{duration:.2},children:e.jsx(Q,{size:18})})]})]}),e.jsx(M,{children:$===t.name&&e.jsx(i.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:`overflow-hidden ${U} rounded-lg my-1`,children:t.submenu.map((s,n)=>e.jsx(c,{to:s.path,onClick:()=>{f(!1),D(null)},className:`block ${b} transition-colors duration-200 py-2.5 px-4 text-sm opacity-90 hover:opacity-100`,children:s.name},`${s.path}-${n}`))})})]}):e.jsx(c,{to:t.path||"/",onClick:()=>f(!1),className:`block ${b} transition-colors duration-200 py-2.5 px-2`,children:t.name})},`mobile-hero-${t.name}-${o}`))})})})]}),e.jsx("div",{className:"relative z-10 flex-1 flex items-center px-4",children:e.jsx("div",{className:"w-full max-w-7xl mx-auto relative z-10",children:e.jsx(i.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},transition:{duration:.4},className:"w-full",children:S?e.jsxs("div",{className:"space-y-4 text-center",children:[e.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl text-white drop-shadow-2xl",style:{filter:"drop-shadow(0 4px 20px rgba(0, 0, 0, 0.5))"},children:p}),g&&e.jsx("p",{className:"text-xl md:text-2xl text-white/90 drop-shadow-lg",style:{filter:"drop-shadow(0 2px 10px rgba(0, 0, 0, 0.5))"},children:g})]}):e.jsx("div",{className:"flex justify-start pl-4 sm:pl-6 lg:pl-8",children:e.jsx("img",{src:F||Y,alt:`${p} ${g||""}`,loading:"lazy",className:"w-[70%] md:w-[50%] lg:w-[40%] h-auto mx-auto"})})},p)})}),I&&e.jsx("button",{onClick:L,className:"absolute bottom-8 left-1/2 -translate-x-1/2 z-10","aria-label":"Scroll to content",children:e.jsx(i.div,{animate:{y:[0,10,0]},transition:{repeat:1/0,duration:2,ease:"easeInOut"},className:`w-12 h-12 rounded-full ${W} flex items-center justify-center transition-colors cursor-pointer`,children:e.jsx(Z,{className:a?"text-white":"text-foreground",size:24})})}),B&&e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-b from-transparent to-white z-20 pointer-events-none"})]})}export{te as H};
