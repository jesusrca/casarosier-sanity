import{r as l,f as J,a as K,b as X,j as e,m as r,L,A as Z,u as _}from"./index-OaZIIvn3.js";import{h as E,a as R,C as G}from"./00083d30bea445cb191f41f57aa132965c193e0d-C_tKDmcr.js";import{S as Q}from"./SEOHead-CKdPzQyb.js";const ee="/assets/2dacc970a5a37325400c034e8aab058b32fcf649-q7TC2N21.png";function se(){const[x,h]=l.useState(null),[c,m]=l.useState([]),[n,v]=l.useState({desktop:"",mobile:""}),[T,k]=l.useState([]),[M,H]=l.useState(0),[y,W]=l.useState(typeof window<"u"?window.innerWidth<768:!1),[D,z]=l.useState(!1);l.useEffect(()=>{const t=()=>{W(window.innerWidth<768)};return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),l.useEffect(()=>{b(),w()},[]),l.useEffect(()=>{if(T.length<=1)return;const t=setTimeout(()=>{H(1)},2e3);return()=>clearTimeout(t)},[T.length]);const w=async()=>{try{const t=await J();let o=t?.heroImageDesktop||"",i=t?.heroImageMobile||"",p=t?.heroTextImage1||"",g=t?.heroTextImage2||"";if(!o||!i||!p&&!g){const d=await K();o||(o=typeof d?.heroImageDesktop=="string"?d.heroImageDesktop:d?.heroImageDesktop||""),i||(i=typeof d?.heroImageMobile=="string"?d.heroImageMobile:d?.heroImageMobile||""),p||(p=typeof d?.heroTextImage1=="string"?d.heroTextImage1:d?.heroTextImage1||""),g||(g=typeof d?.heroTextImage2=="string"?d.heroTextImage2:d?.heroTextImage2||"")}o=o||E,i=i||E,console.log("üñºÔ∏è Hero Images loaded:",{desktop:o,mobile:i,isMobile:window.innerWidth<768,windowWidth:window.innerWidth}),v({desktop:o,mobile:i});const N=[];p&&N.push(p),g&&N.push(g),N.length>0?k(N):k([R])}catch(t){console.log("Settings not found, using default images:",t),v({desktop:E,mobile:E}),k([R])}finally{z(!0)}},b=async()=>{try{const t=await X();if(t?.items){const o=[...t.items].sort((i,p)=>(i.order||0)-(p.order||0));o.forEach(i=>{i.submenu&&i.submenu.sort((p,g)=>(p.order||0)-(g.order||0))}),m(o)}}catch{console.log("Menu not found, using default menu"),m([{name:"Inicio",path:"/",order:0},{name:"Clases",order:1,submenu:[{name:"Iniciaci√≥n a la cer√°mica",path:"/clases/iniciacion",order:0},{name:"Regular de modelado",path:"/clases",order:1},{name:"Modelado con torno",path:"/clases/torno",order:2}]},{name:"Workshops",order:2,submenu:[{name:"Esmaltes online v√≠a zoom",path:"/workshops/esmaltes-online",order:0},{name:"Esmaltes Barcelona",path:"/workshops/esmaltes-barcelona",order:1},{name:"Laboratorio Cer√°mico",path:"/workshops/laboratorio",order:2},{name:"M√©todo Seger",path:"/workshops/metodo-seger",order:3}]},{name:"Reservas Privadas",order:3,submenu:[{name:"Taller para grupos",path:"/espacios-privados",order:0}]},{name:"Tarjeta de regalo",path:"/tarjeta-regalo",order:4},{name:"El Estudio",path:"/el-estudio",order:5},{name:"Blog",path:"/blog",order:6},{name:"Tiendita",path:"/tiendita",order:7}])}},f=()=>{document.querySelector("#about-section")?.scrollIntoView({behavior:"smooth"})},I=()=>{console.log("üì∏ Image loaded:",y?"MOBILE":"DESKTOP",y?n.mobile:n.desktop)};return e.jsxs("section",{className:"relative h-screen w-full overflow-hidden",children:[(n.desktop||n.mobile)&&e.jsx("img",{src:y?n.mobile:n.desktop,alt:"",loading:"eager",fetchpriority:"high",decoding:"async",className:"absolute inset-0 w-full h-full object-cover transition-opacity duration-300",style:{opacity:D?1:0},onLoad:I},y?"mobile":"desktop"),e.jsx("div",{className:"absolute inset-0 bg-black/10"}),e.jsx("div",{className:"relative z-20 pt-8 pb-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx(r.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"flex justify-center mb-12 sm:mb-6 mt-8 sm:mt-0",children:e.jsx(L,{to:"/",children:e.jsx("img",{src:ee,alt:"Casa Rosier",loading:"eager",className:"h-16 sm:h-20 w-auto"})})}),e.jsx(r.nav,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},className:"hidden md:flex items-center justify-center gap-1",children:c.map((t,o)=>e.jsxs(r.div,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5+o*.08},className:"flex items-center relative",onMouseEnter:()=>t.submenu&&h(t.name),onMouseLeave:()=>h(null),children:[t.path?e.jsx(L,{to:t.path,className:"text-white/90 hover:text-white px-3 lg:px-4 py-2 transition-colors duration-200 text-sm whitespace-nowrap",children:t.name}):e.jsxs("button",{className:"text-white/90 hover:text-white px-3 lg:px-4 py-2 transition-colors duration-200 text-sm whitespace-nowrap",children:[t.name,t.submenu&&e.jsx("span",{className:"ml-1",children:"+"})]}),t.submenu&&e.jsx(Z,{children:x===t.name&&e.jsx(r.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.2},className:"absolute top-full left-0 mt-2 bg-white rounded-lg shadow-xl overflow-hidden min-w-[220px] z-50",children:t.submenu.map((i,p)=>e.jsx(L,{to:i.path,className:"block px-5 py-3 text-secondary hover:bg-muted transition-colors duration-150 text-sm border-b border-border last:border-b-0",children:i.name},`${i.path}-${p}`))})}),o<c.length-1&&e.jsx("span",{className:"text-white/40 text-sm hidden lg:inline ml-1",children:"|"})]},`home-${t.name}-${o}`))})]})}),e.jsx("div",{className:"relative z-10 md:flex-1 md:flex md:items-center md:justify-center md:mt-[10vh] px-4 absolute md:relative top-[calc(40%-60px)] md:top-auto -translate-y-1/2 md:translate-y-0 left-0 right-0",children:e.jsx(r.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:1,delay:.6},className:"w-full max-w-3xl relative",children:T.map((t,o)=>e.jsx(r.img,{src:t,alt:"estudio Cer√°mica creativa en Barcelona",className:`w-full h-auto ${o===0?"relative":"absolute top-0 left-0"}`,initial:{opacity:0},animate:{opacity:M>=o?1:0},transition:{duration:.2}},o))})}),e.jsx(r.button,{onClick:f,initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,delay:1.2},className:"absolute bottom-12 left-1/2 -translate-x-1/2 z-20","aria-label":"Scroll down",children:e.jsx(r.div,{animate:{y:[0,10,0]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},className:"w-12 h-12 rounded-full border-2 border-white/70 flex items-center justify-center hover:bg-white/10 transition-colors cursor-pointer",children:e.jsx(G,{className:"text-white",size:24})})}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-b from-transparent to-[#F3F2EF] z-20 pointer-events-none"})]})}function O({title:x,subtitle:h,image:c,link:m="#",index:n,hideSubtitle:v=!1}){return e.jsx(r.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-50px"},transition:{duration:.5,delay:n*.1},className:"group",children:e.jsxs(L,{to:m,className:"block",children:[e.jsx("div",{className:"relative h-[405px] sm:h-[446px] md:h-[323px] overflow-hidden rounded-lg",children:e.jsx(r.img,{src:c,alt:x,className:"w-full h-full object-cover",whileHover:{scale:1.05},transition:{duration:.4}})}),e.jsxs("div",{className:"mt-4 text-center",children:[e.jsx("h3",{className:"mb-1",children:x}),!v&&e.jsx("p",{className:"text-foreground/60 text-sm mb-2",children:h}),e.jsx("span",{className:"text-sm text-primary group-hover:underline",children:"Ver m√°s"})]})]})})}function te({image:x="https://images.unsplash.com/photo-1610701596295-4dc5d6289214?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxjZXJhbWljJTIwZ2lmdCUyMGNhcmR8ZW58MXx8fHwxNzY1MjE4MTExfDA&ixlib=rb-4.1.0&q=80&w=1080",title:h="Experiencia Cer√°mica Gift Card",description:c="Este cup√≥n de regalo para taller ofrece una clase privada de cer√°mica. Ideal para un amigo o ser querido creativo. Celebrar√° su v√≠nculo probando juntos el torno, o modelado a mano.",link:m="/tarjeta-regalo"}){const n=()=>{m&&(m.startsWith("http")?window.open(m,"_blank","noopener,noreferrer"):window.location.href=m)};return e.jsx("section",{className:"py-12 lg:py-16 bg-background",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs(r.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},onClick:n,className:`overflow-hidden grid grid-cols-1 md:grid-cols-[300px_1fr] lg:grid-cols-[400px_1fr] gap-0 ${m?"cursor-pointer":""}`,children:[e.jsx("div",{className:"relative w-full aspect-square",children:e.jsx("img",{src:x,alt:h,className:"absolute inset-0 w-full h-full object-cover"})}),e.jsxs("div",{className:"p-6 sm:p-8 lg:p-12 flex flex-col justify-center",children:[e.jsx(r.h2,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6,delay:.2},className:"mb-4",children:h}),e.jsx(r.p,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6,delay:.3},className:"text-base sm:text-lg text-foreground/80 leading-relaxed",children:c}),m&&e.jsxs(r.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6,delay:.4},className:"mt-6 inline-flex items-center text-primary hover:text-primary/80 transition-colors",children:[e.jsx("span",{className:"mr-2",children:"M√°s informaci√≥n"}),e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})})})}function re(){const{classes:x,workshops:h,settings:c,pages:m}=_(),[n,v]=l.useState(null),[T,k]=l.useState(!0),[M,H]=l.useState([]),[y,W]=l.useState([]);l.useEffect(()=>{const s=m.find(u=>u.slug==="home");s&&v(s),k(!1)},[m]),l.useEffect(()=>{D(),z()},[x,h]);const D=async()=>{try{const C=[...x,...h].filter(a=>a.showInHome===!0&&a.visible===!0).map(a=>{const B=a.type==="class"?"/clases/":a.type==="workshop"?"/workshops/":"/privada/";let S="";if(a.images&&a.images.length>0){const j=a.images[0];S=typeof j=="string"?j:j.url||""}return{title:a.title||"",subtitle:a.excerpt||"",image:S,link:B+a.slug}});console.log("üè† Featured courses loaded:",C),H(C)}catch(s){console.error("Error loading featured courses:",s)}},z=async()=>{try{const C=[...x,...h].filter(a=>a.showInHomeWorkshops===!0&&a.visible===!0).map(a=>{const B=a.type==="class"?"/clases/":a.type==="workshop"?"/workshops/":"/privada/";let S="";if(a.images&&a.images.length>0){const j=a.images[0];S=typeof j=="string"?j:j.url||""}return{title:a.title||"",subtitle:a.excerpt||"",image:S,link:B+a.slug}});console.log("üé® Featured workshops loaded:",C),W(C)}catch(s){console.error("Error loading featured workshops:",s)}},w=n?.sections?.find(s=>s.type==="about"),b=n?.sections?.find(s=>s.type==="courses"),f=n?.sections?.find(s=>s.type==="courses2"),I=n?.sections?.find(s=>s.type==="banner");console.log("üîç Home Page Data:",{pageData:n,sections:n?.sections,courses2Section:f,courses2:f?.courses}),w?.images;const t=w?.content||"Ya sea en clases mensuales o en talleres intensivos de fin de semana, te acompa√±aremos para que descubras todas las posibilidades del barro.\\n\\nTambi√©n puedes crear un evento privado totalmente personalizado.",o=w?.mainImageUrl||w?.mainImage||"";console.log("üñºÔ∏è About Main Image:",o),console.log("üì¶ About Section:",w);const i=[],p=b?.courses||i;b?.title;const g=b?.titleLine1||"CURSOS Y",N=b?.titleLine2||"WORKSHOPS",d=b?.description||c.homeCoursesDescription||"",P=f?.courses,q=f?.titleLine1,U=f?.titleLine2,V=f?.description||c.homeWorkshopsDescription||"",F=s=>{if(!s)return null;if(s.link&&s.image&&s.title)return s;const u=s.type==="class"?"/clases/":s.type==="workshop"?"/workshops/":s.type==="private"?"/privada/":"/tarjeta-regalo/";return{title:s.title||"",subtitle:s.excerpt||"",image:s.image||"",link:u+s.slug}},$=(p?.length?p:M).map(F).filter(Boolean),A=(P?.length?P:y).map(F).filter(Boolean),Y=t.split("\\n").filter(s=>s.trim());return e.jsxs("div",{className:"min-h-screen",children:[e.jsx(Q,{title:c.seoTitle||"Casa Rosier - Taller de Cer√°mica en Barcelona",description:c.seoDescription,keywords:c.seoKeywords,image:c.ogImage,url:c.ogUrl,type:c.ogType||"website"}),e.jsx(se,{}),e.jsx("section",{id:"about-section",className:"py-16 lg:py-24 bg-background",children:e.jsx("div",{className:"max-w-7xl mx-auto px-5 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-4 items-center",children:[e.jsx(r.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},children:o&&e.jsx("img",{src:o,alt:"Casa Rosier Cer√°mica",className:"w-full h-[343px] lg:h-[411px] object-cover lg:object-contain lg:object-right"})}),e.jsx(r.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},className:"space-y-6 max-w-2xl",children:e.jsx("div",{className:"space-y-4 text-left",children:Y.map((s,u)=>e.jsx("p",{className:"text-lg lg:text-xl leading-relaxed text-[#7b7269] text-left font-serif font-light max-w-xs",children:s},u))})})]})})}),M.length>0&&e.jsx("section",{className:"py-16 lg:py-24 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-5 sm:px-6 lg:px-8",children:[e.jsx(r.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-12",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("h2",{children:g}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 lg:w-12 h-[1px] bg-[#7B7269]/40"}),e.jsx("h2",{children:N})]}),d&&e.jsx("p",{className:"mt-4 text-lg text-[#7b7269] max-w-2xl",children:d})]})}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8 lg:gap-12",children:$.map((s,u)=>e.jsx(O,{...s,index:u,hideSubtitle:!1},u))})]})}),y.length>0&&e.jsx("section",{className:"py-16 lg:py-24 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-5 sm:px-6 lg:px-8",children:[e.jsx(r.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-12",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("h2",{children:q}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 lg:w-12 h-[1px] bg-[#7B7269]/40"}),e.jsx("h2",{children:U})]}),V&&e.jsx("p",{className:"mt-4 text-lg text-[#7b7269] max-w-2xl",children:V})]})}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8 lg:gap-12",children:A.map((s,u)=>e.jsx(O,{...s,index:u,hideSubtitle:!1},u))})]})}),e.jsx(te,{image:I?.image,title:I?.title,description:I?.description,link:I?.link})]})}export{re as Home};
