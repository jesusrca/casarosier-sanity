import{c as M,r as w,u as D,j as t,L as j,e as U,A as S,m as k,X as V,M as q,P as $,g as X,h as G}from"./index-Xzb1GI3-.js";import{S as J}from"./SEOHead-C0-up3gZ.js";import{g as Q}from"./SEO-Dd-8Hnfg.js";import{C as Y}from"./clock-DaG18qIB.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],B=M("arrow-left",Z);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],te=M("calendar",ee);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],se=M("chevron-up",ne);function le({isDark:e=!1}){const[s,l]=w.useState(null),[i,u]=w.useState(!1),[n,d]=w.useState(null),{menuItems:m}=D(),c=r=>{d(n===r?null:r)},y=e?"text-white/90 hover:text-white":"text-foreground/90 hover:text-foreground",g=e?"text-white/40":"text-foreground/40",a=e?"text-white hover:text-white/80":"text-foreground hover:text-foreground/80",o=e?"text-white/90 hover:text-white":"text-foreground/90 hover:text-foreground",x=e?"bg-black/40":"bg-white/40",p=e?"border-white/10":"border-foreground/10";return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"relative z-20 pt-4 sm:pt-6 pb-3",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx(j,{to:"/",className:"flex-shrink-0",children:t.jsx(U,{className:"h-10 sm:h-12 lg:h-14 w-auto",isDark:e})}),t.jsx("nav",{className:"hidden md:flex items-center gap-1",children:m.map((r,h)=>t.jsxs("div",{className:"flex items-center relative",onMouseEnter:()=>r.submenu&&l(r.name),onMouseLeave:()=>l(null),children:[r.path?t.jsxs(j,{to:r.path,className:`${y} px-3 lg:px-4 transition-colors duration-200 text-sm whitespace-nowrap`,children:[r.name,r.submenu&&t.jsx("span",{className:"ml-1",children:"+"})]}):t.jsxs("button",{className:`${y} px-3 lg:px-4 transition-colors duration-200 text-sm whitespace-nowrap`,children:[r.name,r.submenu&&t.jsx("span",{className:"ml-1",children:"+"})]}),r.submenu&&t.jsx(S,{children:s===r.name&&t.jsx(k.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.2},className:"absolute top-full left-0 mt-2 bg-white rounded-lg overflow-hidden min-w-[220px] z-50",children:r.submenu.map(f=>t.jsx(j,{to:f.path,className:"block px-5 py-3 text-secondary hover:bg-muted transition-colors duration-150 text-sm border-b border-border last:border-b-0",children:f.name},f.path))})}),h<m.length-1&&t.jsx("span",{className:`${g} text-sm hidden lg:inline ml-1`,children:"|"})]},r.name))}),t.jsx("button",{onClick:()=>u(!i),className:`md:hidden p-2 ${a} transition-colors`,"aria-label":"Toggle menu",children:i?t.jsx(V,{className:"w-6 h-6"}):t.jsx(q,{className:"w-6 h-6"})})]})})}),t.jsx(S,{children:i&&t.jsx(k.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:`md:hidden relative z-20 overflow-hidden ${x} backdrop-blur-md border-t ${p}`,children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4 space-y-2",children:m.map(r=>t.jsxs("div",{children:[r.path?t.jsxs(j,{to:r.path,onClick:()=>!r.submenu&&u(!1),className:`flex items-center justify-between ${a} py-2 transition-colors`,children:[t.jsx("span",{children:r.name}),r.submenu&&t.jsx("button",{onClick:h=>{h.preventDefault(),h.stopPropagation(),c(r.name)},className:"p-2",children:t.jsx($,{className:`w-5 h-5 transition-transform duration-200 ${n===r.name?"rotate-45":""}`})})]}):t.jsxs("button",{onClick:()=>r.submenu&&c(r.name),className:`flex items-center justify-between w-full ${a} py-2 transition-colors`,children:[t.jsx("span",{children:r.name}),r.submenu&&t.jsx($,{className:`w-5 h-5 transition-transform duration-200 ${n===r.name?"rotate-45":""}`})]}),t.jsx(S,{children:r.submenu&&n===r.name&&t.jsx(k.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:`ml-4 mt-2 space-y-2 pl-4 border-l-2 ${p} overflow-hidden`,children:r.submenu.map(h=>t.jsx(j,{to:h.path,onClick:()=>u(!1),className:`block ${o} py-2 transition-colors`,children:h.name},h.path))})})]},r.name))})})})]})}function I(e){return e._type==="span"&&"text"in e&&typeof e.text=="string"&&(e.marks===void 0||Array.isArray(e.marks)&&e.marks.every(s=>typeof s=="string"))}function O(e){return typeof e._type=="string"&&e._type[0]!=="@"&&(!("markDefs"in e)||!e.markDefs||Array.isArray(e.markDefs)&&e.markDefs.every(s=>typeof s._key=="string"))&&"children"in e&&Array.isArray(e.children)&&e.children.every(s=>typeof s=="object"&&"_type"in s)}function E(e){return O(e)&&"listItem"in e&&typeof e.listItem=="string"&&(e.level===void 0||typeof e.level=="number")}function F(e){return e._type==="@list"}function z(e){return e._type==="@span"}function W(e){return e._type==="@text"}const C=["strong","em","code","underline","strike-through"];function re(e,s,l){if(!I(e)||!e.marks||!e.marks.length)return[];let i=e.marks.slice(),u={};return i.forEach(n=>{u[n]=1;for(let d=s+1;d<l.length;d++){let m=l[d];if(m&&I(m)&&Array.isArray(m.marks)&&m.marks.indexOf(n)!==-1)u[n]++;else break}}),i.sort((n,d)=>ie(u,n,d))}function ie(e,s,l){let i=e[s],u=e[l];if(i!==u)return u-i;let n=C.indexOf(s),d=C.indexOf(l);return n===d?s.localeCompare(l):n-d}function ae(e){let{children:s}=e,l=e.markDefs??[];if(!s||!s.length)return[];let i=s.map(re),u={_type:"@span",children:[],markType:"<unknown>"},n=[u];for(let d=0;d<s.length;d++){let m=s[d];if(!m)continue;let c=i[d]||[],y=1;if(n.length>1)for(;y<n.length;y++){let a=n[y]?.markKey||"",o=c.indexOf(a);if(o===-1)break;c.splice(o,1)}n=n.slice(0,y);let g=n[n.length-1];if(g){for(let a of c){let o=l?.find(p=>p._key===a),x={_type:"@span",_key:m._key,children:[],markDef:o,markType:o?o._type:a,markKey:a};g.children.push(x),n.push(x),g=x}if(I(m)){let a=m.text.split(`
`);for(let o=a.length;o-- >1;)a.splice(o,0,`
`);g.children=g.children.concat(a.map(o=>({_type:"@text",text:o})))}else g.children=g.children.concat(m)}}return u.children}function oe(e,s){let l=[],i;for(let u=0;u<e.length;u++){let n=e[u];if(n){if(!E(n)){l.push(n),i=void 0;continue}if(!i){i=_(n,u,s),l.push(i);continue}if(ce(n,i)){i.children.push(n);continue}if((n.level||1)>i.level){let d=_(n,u,s);if(s==="html"){let m=i.children[i.children.length-1],c={...m,children:[...m.children,d]};i.children[i.children.length-1]=c}else i.children.push(d);i=d;continue}if((n.level||1)<i.level){let d=l[l.length-1],m=d&&L(d,n);if(m){i=m,i.children.push(n);continue}i=_(n,u,s),l.push(i);continue}if(n.listItem!==i.listItem){let d=l[l.length-1],m=d&&L(d,{level:n.level||1});if(m&&m.listItem===n.listItem){i=m,i.children.push(n);continue}else{i=_(n,u,s),l.push(i);continue}}console.warn("Unknown state encountered for block",n),l.push(n)}}return l}function ce(e,s){return(e.level||1)===s.level&&e.listItem===s.listItem}function _(e,s,l){return{_type:"@list",_key:`${e._key||`${s}`}-parent`,mode:l,level:e.level||1,listItem:e.listItem,children:[e]}}function L(e,s){let l=s.level||1,i=s.listItem||"normal",u=typeof s.listItem=="string";if(F(e)&&(e.level||1)===l&&u&&(e.listItem||"normal")===i)return e;if(!("children"in e))return;let n=e.children[e.children.length-1];return n&&!I(n)?L(n,s):void 0}function H(e){let s="";return e.children.forEach(l=>{W(l)?s+=l.text:z(l)&&(s+=H(l))}),s}const ue="html",de={number:({children:e})=>t.jsx("ol",{children:e}),bullet:({children:e})=>t.jsx("ul",{children:e})},me=({children:e})=>t.jsx("li",{children:e}),xe=({children:e,value:s})=>t.jsx("a",{href:s?.href,children:e}),he={textDecoration:"underline"},pe={em:({children:e})=>t.jsx("em",{children:e}),strong:({children:e})=>t.jsx("strong",{children:e}),code:({children:e})=>t.jsx("code",{children:e}),underline:({children:e})=>t.jsx("span",{style:he,children:e}),"strike-through":({children:e})=>t.jsx("del",{children:e}),link:xe},N=(e,s)=>`[@portabletext/react] Unknown ${e}, specify a component for it in the \`components.${s}\` prop`,K=e=>N(`block type "${e}"`,"types"),fe=e=>N(`mark type "${e}"`,"marks"),ye=e=>N(`block style "${e}"`,"block"),ge=e=>N(`list style "${e}"`,"list"),be=e=>N(`list item style "${e}"`,"listItem");function ke(e){console.warn(e)}const je={display:"none"},P={types:{},block:{normal:({children:e})=>t.jsx("p",{children:e}),blockquote:({children:e})=>t.jsx("blockquote",{children:e}),h1:({children:e})=>t.jsx("h1",{children:e}),h2:({children:e})=>t.jsx("h2",{children:e}),h3:({children:e})=>t.jsx("h3",{children:e}),h4:({children:e})=>t.jsx("h4",{children:e}),h5:({children:e})=>t.jsx("h5",{children:e}),h6:({children:e})=>t.jsx("h6",{children:e})},marks:pe,list:de,listItem:me,hardBreak:()=>t.jsx("br",{}),unknownType:({value:e,isInline:s})=>{let l=K(e._type);return t.jsx(s?"span":"div",{style:je,children:l})},unknownMark:({markType:e,children:s})=>t.jsx("span",{className:`unknown__pt__mark__${e}`,children:s}),unknownList:({children:e})=>t.jsx("ul",{children:e}),unknownListItem:({children:e})=>t.jsx("li",{children:e}),unknownBlockStyle:({children:e})=>t.jsx("p",{children:e})};function we(e,s){let{block:l,list:i,listItem:u,marks:n,types:d,...m}=s;return{...e,block:v(e,s,"block"),list:v(e,s,"list"),listItem:v(e,s,"listItem"),marks:v(e,s,"marks"),types:v(e,s,"types"),...m}}function v(e,s,l){let i=s[l],u=e[l];return typeof i=="function"||i&&typeof u=="function"?i:i?{...u,...i}:u}function ve({value:e,components:s,listNestingMode:l,onMissingComponent:i=ke}){let u=i||_e,n=oe(Array.isArray(e)?e:[e],l||ue),d=w.useMemo(()=>s?we(P,s):P,[s]),m=w.useMemo(()=>Ne(d,u),[d,u]);return t.jsx(t.Fragment,{children:n.map((c,y)=>m({node:c,index:y,isInline:!1,renderNode:m}))})}const Ne=(e,s)=>{function l(a){let{node:o,index:x,isInline:p}=a,r=o._key||`node-${x}`;return F(o)?n(o,x,r):E(o)?u(o,x,r):z(o)?d(o,x,r):i(o)?g(o,x,r,p):O(o)?m(o,x,r,p):W(o)?c(o,r):y(o,x,r,p)}function i(a){return a._type in e.types}function u(a,o,x){let p=A({node:a,index:o,isInline:!1,renderNode:l}),r=e.listItem,h=(typeof r=="function"?r:r[a.listItem])||e.unknownListItem;if(h===e.unknownListItem){let b=a.listItem||"bullet";s(be(b),{type:b,nodeType:"listItemStyle"})}let f=p.children;if(a.style&&a.style!=="normal"){let{listItem:b,...T}=a;f=l({node:T,index:o,isInline:!1})}return t.jsx(h,{value:a,index:o,isInline:!1,renderNode:l,children:f},x)}function n(a,o,x){let p=a.children.map((f,b)=>l({node:f._key?f:{...f,_key:`li-${o}-${b}`},index:b,isInline:!1})),r=e.list,h=(typeof r=="function"?r:r[a.listItem])||e.unknownList;if(h===e.unknownList){let f=a.listItem||"bullet";s(ge(f),{nodeType:"listStyle",type:f})}return t.jsx(h,{value:a,index:o,isInline:!1,renderNode:l,children:p},x)}function d(a,o,x){let{markDef:p,markType:r,markKey:h}=a,f=e.marks[r]||e.unknownMark,b=a.children.map((T,R)=>l({node:T,index:R,isInline:!0}));return f===e.unknownMark&&s(fe(r),{nodeType:"mark",type:r}),t.jsx(f,{text:H(a),value:p,markType:r,markKey:h,renderNode:l,children:b},x)}function m(a,o,x,p){let{_key:r,...h}=A({node:a,index:o,isInline:p,renderNode:l}),f=h.node.style||"normal",b=(typeof e.block=="function"?e.block:e.block[f])||e.unknownBlockStyle;return b===e.unknownBlockStyle&&s(ye(f),{nodeType:"blockStyle",type:f}),t.jsx(b,{...h,value:h.node,renderNode:l},x)}function c(a,o){if(a.text===`
`){let x=e.hardBreak;return x?t.jsx(x,{},o):`
`}return a.text}function y(a,o,x,p){let r={value:a,isInline:p,index:o,renderNode:l};s(K(a._type),{nodeType:"block",type:a._type});let h=e.unknownType;return t.jsx(h,{...r},x)}function g(a,o,x,p){let r={value:a,isInline:p,index:o,renderNode:l},h=e.types[a._type];return h?t.jsx(h,{...r},x):null}return l};function A(e){let{node:s,index:l,isInline:i,renderNode:u}=e,n=ae(s).map((d,m)=>u({node:d,isInline:!0,index:m,renderNode:u}));return{_key:s._key||`block-${l}`,children:n,index:l,isInline:i,node:s}}function _e(){}function Ie(e){return Array.isArray(e)?e.map(s=>s._type==="block"&&s.children?.map(l=>l.text).join("")||"").join(" "):""}function Te(e){const i=(typeof e=="string"?e:Ie(e)).trim().split(/\s+/).filter(Boolean).length;return Math.max(1,Math.ceil(i/200))}function Be(){const{slug:e}=X(),{getBlogPostBySlug:s,loading:l}=D(),[i,u]=w.useState(!1),n=s(e||"");if(w.useEffect(()=>{if((!n||!n.published)&&!l){const c=setTimeout(()=>{u(!0)},300);return()=>clearTimeout(c)}else u(!1)},[n,l,e]),l||(!n||!n.published)&&!i)return t.jsx(G,{});if((!n||!n.published)&&i)return t.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h1",{className:"text-3xl mb-4",children:"Artículo no encontrado"}),t.jsxs(j,{to:"/blog",className:"text-primary hover:underline flex items-center gap-2 justify-center",children:[t.jsx(B,{className:"w-4 h-4"}),"Volver al blog"]})]})});const d=Q({title:n.title,description:n.excerpt,author:n.author,publishedDate:n.publishedDate||n.createdAt,modifiedDate:n.updatedAt,image:n.featuredImage,url:window.location.href}),m=Te(n.content);return t.jsxs("div",{className:"min-h-screen bg-background",children:[t.jsx(J,{title:n.seo?.metaTitle||`${n.title} | Casa Rosier Blog`,description:n.seo?.metaDescription||n.excerpt,keywords:n.seo?.keywords||"blog, cerámica, Casa Rosier",image:n.featuredImage,type:"article",publishedTime:n.publishedDate||n.createdAt,modifiedTime:n.updatedAt,author:n.author,structuredData:d}),t.jsxs("div",{className:"relative min-h-[60vh] bg-background flex flex-col",children:[t.jsx(le,{}),t.jsx("div",{className:"flex-1 flex items-center justify-center py-20 lg:py-24",children:t.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 w-full",children:t.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center space-y-6",children:[n.category&&t.jsx(k.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:t.jsx("span",{className:"text-sm uppercase tracking-wider text-foreground/60",children:n.category})}),t.jsx(k.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"text-foreground text-5xl sm:text-6xl lg:text-7xl font-bold leading-tight",children:n.title}),t.jsxs(k.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"flex items-center justify-center gap-6 text-sm text-foreground/60",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Y,{className:"w-4 h-4"}),t.jsxs("span",{children:[m," min de lectura"]})]}),t.jsx("span",{children:"•"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(te,{className:"w-4 h-4"}),t.jsx("span",{children:new Date(n.publishedDate||n.createdAt).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"})})]})]}),n.featuredImage&&t.jsx(k.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.7,delay:.4},className:"mt-12 w-full",children:t.jsx("img",{src:n.featuredImage,alt:n.title,className:"w-full h-auto rounded-lg shadow-lg object-cover"})})]})})})]}),t.jsx("article",{className:"pb-16 lg:pb-24",children:t.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"space-y-12",children:[t.jsx("div",{className:"prose prose-lg max-w-none",children:t.jsx(ve,{value:n.content,components:{block:{normal:({children:c})=>t.jsx("p",{className:"mb-6 text-base leading-relaxed text-foreground/80",children:c}),h1:({children:c})=>t.jsx("h1",{className:"mt-12 mb-6 first:mt-0",children:c}),h2:({children:c})=>t.jsx("h2",{className:"mt-12 mb-6 first:mt-0",children:c}),h3:({children:c})=>t.jsx("h3",{className:"mt-10 mb-4 first:mt-0",children:c})},list:{bullet:({children:c})=>t.jsx("ul",{className:"list-disc pl-6 mb-6 space-y-2",children:c}),number:({children:c})=>t.jsx("ol",{className:"list-decimal pl-6 mb-6 space-y-2",children:c})},listItem:{bullet:({children:c})=>t.jsx("li",{className:"text-base text-foreground/80 leading-relaxed",children:c}),number:({children:c})=>t.jsx("li",{className:"text-base text-foreground/80 leading-relaxed",children:c})},marks:{strong:({children:c})=>t.jsx("strong",{className:"font-semibold text-foreground",children:c}),em:({children:c})=>t.jsx("em",{className:"italic",children:c}),link:({value:c,children:y})=>t.jsx("a",{className:"text-primary hover:underline font-medium underline-offset-2",target:"_blank",rel:"noopener noreferrer",href:c?.href,children:y})},types:{image:({value:c})=>t.jsx("img",{className:"rounded-lg shadow-lg my-8 max-w-full mx-auto border border-border",src:c.asset?.url,alt:c.alt||""}),embed:({value:c})=>t.jsxs("div",{className:"my-8",children:[t.jsx("div",{className:"aspect-video w-full",children:t.jsx("iframe",{src:c.url,className:"w-full h-full rounded-lg border",allowFullScreen:!0})}),c.caption&&t.jsx("p",{className:"mt-2 text-sm text-foreground/60",children:c.caption})]})}}})}),t.jsxs("div",{className:"pt-12 border-t border-border flex flex-col sm:flex-row justify-between items-center gap-4",children:[t.jsxs(j,{to:"/blog",className:"inline-flex items-center gap-2 text-primary hover:gap-3 transition-all",children:[t.jsx(B,{className:"w-4 h-4"}),"Ver más artículos"]}),t.jsxs("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"inline-flex items-center gap-2 px-4 py-2 text-sm bg-white/60 hover:bg-white/80 border border-border rounded-lg transition-colors shadow-sm",children:["Volver arriba",t.jsx(se,{className:"w-4 h-4"})]})]})]})})})]})}export{Be as BlogPost};
