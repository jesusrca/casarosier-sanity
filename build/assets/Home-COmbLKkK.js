import{r as n,f as J,a as K,j as e,m as o,L as E,A as X,u as Z}from"./index-DsHaZKRu.js";import{h as I,a as B,C as _}from"./00083d30bea445cb191f41f57aa132965c193e0d-C0PSVEq4.js";import{S as G}from"./SEOHead-BJdOs9g1.js";const Q="/assets/2dacc970a5a37325400c034e8aab058b32fcf649-q7TC2N21.png";function ee(){const[h,u]=n.useState(null),[l,c]=n.useState([]),[i,g]=n.useState({desktop:"",mobile:""}),[S,j]=n.useState([]),[T,L]=n.useState(0),[f,H]=n.useState(typeof window<"u"?window.innerWidth<768:!1),[W,D]=n.useState(!1);n.useEffect(()=>{const s=()=>{H(window.innerWidth<768)};return window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]),n.useEffect(()=>{w(),y()},[]),n.useEffect(()=>{if(S.length<=1)return;const s=setTimeout(()=>{L(1)},2e3);return()=>clearTimeout(s)},[S.length]);const y=async()=>{try{const s=await J();if(s){const r=typeof s.heroImageDesktop=="string"?s.heroImageDesktop:s.heroImageDesktop||I,d=typeof s.heroImageMobile=="string"?s.heroImageMobile:s.heroImageMobile||I;console.log("üñºÔ∏è Hero Images loaded:",{desktop:r,mobile:d,isMobile:window.innerWidth<768,windowWidth:window.innerWidth}),g({desktop:r,mobile:d});const m=[],N=(typeof s.heroTextImage1=="string",s.heroTextImage1),M=(typeof s.heroTextImage2=="string",s.heroTextImage2);N&&m.push(N),M&&m.push(M),m.length>0?j(m):j([B])}else g({desktop:I,mobile:I}),j([B])}catch(s){console.log("Settings not found, using default images:",s),g({desktop:I,mobile:I}),j([B])}finally{D(!0)}},w=async()=>{try{const s=await K();if(s?.items){const r=[...s.items].sort((d,m)=>(d.order||0)-(m.order||0));r.forEach(d=>{d.submenu&&d.submenu.sort((m,N)=>(m.order||0)-(N.order||0))}),c(r)}}catch{console.log("Menu not found, using default menu"),c([{name:"Inicio",path:"/",order:0},{name:"Clases",order:1,submenu:[{name:"Iniciaci√≥n a la cer√°mica",path:"/clases/iniciacion",order:0},{name:"Regular de modelado",path:"/clases",order:1},{name:"Modelado con torno",path:"/clases/torno",order:2}]},{name:"Workshops",order:2,submenu:[{name:"Esmaltes online v√≠a zoom",path:"/workshops/esmaltes-online",order:0},{name:"Esmaltes Barcelona",path:"/workshops/esmaltes-barcelona",order:1},{name:"Laboratorio Cer√°mico",path:"/workshops/laboratorio",order:2},{name:"M√©todo Seger",path:"/workshops/metodo-seger",order:3}]},{name:"Reservas Privadas",order:3,submenu:[{name:"Taller para grupos",path:"/espacios-privados",order:0}]},{name:"Tarjeta de regalo",path:"/tarjeta-regalo",order:4},{name:"El Estudio",path:"/el-estudio",order:5},{name:"Blog",path:"/blog",order:6},{name:"Tiendita",path:"/tiendita",order:7}])}},x=()=>{document.querySelector("#about-section")?.scrollIntoView({behavior:"smooth"})},v=()=>{console.log("üì∏ Image loaded:",f?"MOBILE":"DESKTOP",f?i.mobile:i.desktop)};return e.jsxs("section",{className:"relative h-screen w-full overflow-hidden",children:[(i.desktop||i.mobile)&&e.jsx("img",{src:f?i.mobile:i.desktop,alt:"",loading:"eager",fetchpriority:"high",decoding:"async",className:"absolute inset-0 w-full h-full object-cover transition-opacity duration-300",style:{opacity:W?1:0},onLoad:v},f?"mobile":"desktop"),e.jsx("div",{className:"absolute inset-0 bg-black/10"}),e.jsx("div",{className:"relative z-20 pt-8 pb-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx(o.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"flex justify-center mb-12 sm:mb-6 mt-8 sm:mt-0",children:e.jsx(E,{to:"/",children:e.jsx("img",{src:Q,alt:"Casa Rosier",loading:"eager",className:"h-16 sm:h-20 w-auto"})})}),e.jsx(o.nav,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},className:"hidden md:flex items-center justify-center gap-1",children:l.map((s,r)=>e.jsxs(o.div,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5+r*.08},className:"flex items-center relative",onMouseEnter:()=>s.submenu&&u(s.name),onMouseLeave:()=>u(null),children:[s.path?e.jsx(E,{to:s.path,className:"text-white/90 hover:text-white px-3 lg:px-4 py-2 transition-colors duration-200 text-sm whitespace-nowrap",children:s.name}):e.jsxs("button",{className:"text-white/90 hover:text-white px-3 lg:px-4 py-2 transition-colors duration-200 text-sm whitespace-nowrap",children:[s.name,s.submenu&&e.jsx("span",{className:"ml-1",children:"+"})]}),s.submenu&&e.jsx(X,{children:h===s.name&&e.jsx(o.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.2},className:"absolute top-full left-0 mt-2 bg-white rounded-lg shadow-xl overflow-hidden min-w-[220px] z-50",children:s.submenu.map((d,m)=>e.jsx(E,{to:d.path,className:"block px-5 py-3 text-secondary hover:bg-muted transition-colors duration-150 text-sm border-b border-border last:border-b-0",children:d.name},`${d.path}-${m}`))})}),r<l.length-1&&e.jsx("span",{className:"text-white/40 text-sm hidden lg:inline ml-1",children:"|"})]},`home-${s.name}-${r}`))})]})}),e.jsx("div",{className:"relative z-10 md:flex-1 md:flex md:items-center md:justify-center md:mt-[10vh] px-4 absolute md:relative top-[calc(40%-60px)] md:top-auto -translate-y-1/2 md:translate-y-0 left-0 right-0",children:e.jsx(o.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:1,delay:.6},className:"w-full max-w-3xl relative",children:S.map((s,r)=>e.jsx(o.img,{src:s,alt:"estudio Cer√°mica creativa en Barcelona",className:`w-full h-auto ${r===0?"relative":"absolute top-0 left-0"}`,initial:{opacity:0},animate:{opacity:T>=r?1:0},transition:{duration:.2}},r))})}),e.jsx(o.button,{onClick:x,initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,delay:1.2},className:"absolute bottom-12 left-1/2 -translate-x-1/2 z-20","aria-label":"Scroll down",children:e.jsx(o.div,{animate:{y:[0,10,0]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},className:"w-12 h-12 rounded-full border-2 border-white/70 flex items-center justify-center hover:bg-white/10 transition-colors cursor-pointer",children:e.jsx(_,{className:"text-white",size:24})})}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-b from-transparent to-[#F3F2EF] z-20 pointer-events-none"})]})}function O({title:h,subtitle:u,image:l,link:c="#",index:i,hideSubtitle:g=!1}){return e.jsx(o.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-50px"},transition:{duration:.5,delay:i*.1},className:"group",children:e.jsxs(E,{to:c,className:"block",children:[e.jsx("div",{className:"relative h-[405px] sm:h-[446px] md:h-[323px] overflow-hidden rounded-lg",children:e.jsx(o.img,{src:l,alt:h,className:"w-full h-full object-cover",whileHover:{scale:1.05},transition:{duration:.4}})}),e.jsxs("div",{className:"mt-4 text-center",children:[e.jsx("h3",{className:"mb-1",children:h}),!g&&e.jsx("p",{className:"text-foreground/60 text-sm mb-2",children:u}),e.jsx("span",{className:"text-sm text-primary group-hover:underline",children:"Ver m√°s"})]})]})})}function se({image:h="https://images.unsplash.com/photo-1610701596295-4dc5d6289214?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxjZXJhbWljJTIwZ2lmdCUyMGNhcmR8ZW58MXx8fHwxNzY1MjE4MTExfDA&ixlib=rb-4.1.0&q=80&w=1080",title:u="Experiencia Cer√°mica Gift Card",description:l="Este cup√≥n de regalo para taller ofrece una clase privada de cer√°mica. Ideal para un amigo o ser querido creativo. Celebrar√° su v√≠nculo probando juntos el torno, o modelado a mano.",link:c="/tarjeta-regalo"}){const i=()=>{c&&(c.startsWith("http")?window.open(c,"_blank","noopener,noreferrer"):window.location.href=c)};return e.jsx("section",{className:"py-12 lg:py-16 bg-background",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs(o.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},onClick:i,className:`overflow-hidden grid grid-cols-1 md:grid-cols-[300px_1fr] lg:grid-cols-[400px_1fr] gap-0 ${c?"cursor-pointer":""}`,children:[e.jsx("div",{className:"relative w-full aspect-square",children:e.jsx("img",{src:h,alt:u,className:"absolute inset-0 w-full h-full object-cover"})}),e.jsxs("div",{className:"p-6 sm:p-8 lg:p-12 flex flex-col justify-center",children:[e.jsx(o.h2,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6,delay:.2},className:"mb-4",children:u}),e.jsx(o.p,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6,delay:.3},className:"text-base sm:text-lg text-foreground/80 leading-relaxed",children:l}),c&&e.jsxs(o.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6,delay:.4},className:"mt-6 inline-flex items-center text-primary hover:text-primary/80 transition-colors",children:[e.jsx("span",{className:"mr-2",children:"M√°s informaci√≥n"}),e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})})})}function ie(){const{classes:h,workshops:u,settings:l,pages:c}=Z(),[i,g]=n.useState(null),[S,j]=n.useState(!0),[T,L]=n.useState([]),[f,H]=n.useState([]);n.useEffect(()=>{const t=c.find(p=>p.slug==="home");t&&g(t),j(!1)},[c]),n.useEffect(()=>{W(),D()},[h,u]);const W=async()=>{try{const k=[...h,...u].filter(a=>a.showInHome===!0&&a.visible===!0).map(a=>{const z=a.type==="class"?"/clases/":a.type==="workshop"?"/workshops/":"/privada/";let C="";if(a.images&&a.images.length>0){const b=a.images[0];C=typeof b=="string"?b:b.url||""}return{title:a.title||"",subtitle:a.excerpt||"",image:C,link:z+a.slug}});console.log("üè† Featured courses loaded:",k),L(k)}catch(t){console.error("Error loading featured courses:",t)}},D=async()=>{try{const k=[...h,...u].filter(a=>a.showInHomeWorkshops===!0&&a.visible===!0).map(a=>{const z=a.type==="class"?"/clases/":a.type==="workshop"?"/workshops/":"/privada/";let C="";if(a.images&&a.images.length>0){const b=a.images[0];C=typeof b=="string"?b:b.url||""}return{title:a.title||"",subtitle:a.excerpt||"",image:C,link:z+a.slug}});console.log("üé® Featured workshops loaded:",k),H(k)}catch(t){console.error("Error loading featured workshops:",t)}},y=i?.sections?.find(t=>t.type==="about"),w=i?.sections?.find(t=>t.type==="courses"),x=i?.sections?.find(t=>t.type==="courses2"),v=i?.sections?.find(t=>t.type==="banner");console.log("üîç Home Page Data:",{pageData:i,sections:i?.sections,courses2Section:x,courses2:x?.courses}),y?.images;const s=y?.content||"Ya sea en clases mensuales o en talleres intensivos de fin de semana, te acompa√±aremos para que descubras todas las posibilidades del barro.\\n\\nTambi√©n puedes crear un evento privado totalmente personalizado.",r=y?.mainImageUrl||y?.mainImage||"";console.log("üñºÔ∏è About Main Image:",r),console.log("üì¶ About Section:",y);const d=[],m=w?.courses||d;w?.title;const N=w?.titleLine1||"CURSOS Y",M=w?.titleLine2||"WORKSHOPS",P=w?.description||l.homeCoursesDescription||"",V=x?.courses,q=x?.titleLine1,U=x?.titleLine2,F=x?.description||l.homeWorkshopsDescription||"",R=t=>{if(!t)return null;if(t.link&&t.image&&t.title)return t;const p=t.type==="class"?"/clases/":t.type==="workshop"?"/workshops/":t.type==="private"?"/privada/":"/tarjeta-regalo/";return{title:t.title||"",subtitle:t.excerpt||"",image:t.image||"",link:p+t.slug}},$=(m?.length?m:T).map(R).filter(Boolean),A=(V?.length?V:f).map(R).filter(Boolean),Y=s.split("\\n").filter(t=>t.trim());return e.jsxs("div",{className:"min-h-screen",children:[e.jsx(G,{title:l.seoTitle||"Casa Rosier - Taller de Cer√°mica en Barcelona",description:l.seoDescription,keywords:l.seoKeywords,image:l.ogImage,url:l.ogUrl,type:l.ogType||"website"}),e.jsx(ee,{}),e.jsx("section",{id:"about-section",className:"py-16 lg:py-24 bg-background",children:e.jsx("div",{className:"max-w-7xl mx-auto px-5 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-4 items-center",children:[e.jsx(o.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},children:r&&e.jsx("img",{src:r,alt:"Casa Rosier Cer√°mica",className:"w-full h-[343px] lg:h-[411px] object-cover lg:object-contain lg:object-right"})}),e.jsx(o.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},className:"space-y-6 max-w-2xl",children:e.jsx("div",{className:"space-y-4 text-left",children:Y.map((t,p)=>e.jsx("p",{className:"text-lg lg:text-xl leading-relaxed text-[#7b7269] text-left font-serif font-light max-w-xs",children:t},p))})})]})})}),T.length>0&&e.jsx("section",{className:"py-16 lg:py-24 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-5 sm:px-6 lg:px-8",children:[e.jsx(o.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-12",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("h2",{children:N}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 lg:w-12 h-[1px] bg-[#7B7269]/40"}),e.jsx("h2",{children:M})]}),P&&e.jsx("p",{className:"mt-4 text-lg text-[#7b7269] max-w-2xl",children:P})]})}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8 lg:gap-12",children:$.map((t,p)=>e.jsx(O,{...t,index:p,hideSubtitle:!1},p))})]})}),f.length>0&&e.jsx("section",{className:"py-16 lg:py-24 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-5 sm:px-6 lg:px-8",children:[e.jsx(o.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-12",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("h2",{children:q}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 lg:w-12 h-[1px] bg-[#7B7269]/40"}),e.jsx("h2",{children:U})]}),F&&e.jsx("p",{className:"mt-4 text-lg text-[#7b7269] max-w-2xl",children:F})]})}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8 lg:gap-12",children:A.map((t,p)=>e.jsx(O,{...t,index:p,hideSubtitle:!1},p))})]})}),e.jsx(se,{image:v?.image,title:v?.title,description:v?.description,link:v?.link})]})}export{ie as Home};
